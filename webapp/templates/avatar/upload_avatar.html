{% extends 'base.html' %}
 {% load static %}
{% block content %}
  <h2>Upload Avatar</h2>
  <img onclick="uploadPortrait()" class="home2-portrait" src="{% static 'img/home2/uploadPortrait.svg' %}" id="previewImage">
  <form method="post" action="/upload/" enctype="multipart/form-data">
    {% csrf_token %}
    <input id="inputFile" name="avatar" type="file" accept="image/*" style="display: none;" width="0px" height="0px" capture="user">
    <button type="submit">Upload</button>
  </form>
<script>
   let inputFile = document.getElementById('inputFile');

    const $ = document.getElementById.bind(document);
    const $inputFile = $('inputFile');
    const $previewImage = $('previewImage');
    $inputFile.addEventListener('change', function() {
      const file = this.files[0];
      $previewImage.src = file ? URL.createObjectURL(file) : '';
    }, this);

    function uploadPortrait() {
        inputFile.click();
    }
</script>
{% endblock %}
